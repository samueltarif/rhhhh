import{r as c,l,D as t}from"./BlCT4Jl9.js";const _=()=>{const o=c([]),r=c(!1),s=c(""),u=[{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Empresa Exemplo LTDA",nome_fantasia:"Exemplo Corp",cnpj:"12.345.678/0001-90",inscricao_estadual:"123.456.789.012",logradouro:"Rua Exemplo",numero:"123",bairro:"Centro",municipio:"São Paulo",uf:"SP",cep:"01234-567",endereco_completo:"Rua Exemplo, 123 - Centro - São Paulo/SP - CEP: 01234-567",telefone:"(11) 3333-4444",email_holerites:"rh@empresa.com",situacao_cadastral:"ATIVA",atividade_principal:"Atividades de consultoria em gestão empresarial",porte:"DEMAIS",logo_url:"",funcionarios_count:12,ativo:!0},{id:"550e8400-e29b-41d4-a716-446655440001",nome:"Tech Solutions S.A.",nome_fantasia:"TechSol",cnpj:"98.765.432/0001-10",inscricao_estadual:"987.654.321.098",logradouro:"Av. Tecnologia",numero:"456",bairro:"Copacabana",municipio:"Rio de Janeiro",uf:"RJ",cep:"22070-900",endereco_completo:"Av. Tecnologia, 456 - Copacabana - Rio de Janeiro/RJ - CEP: 22070-900",telefone:"(21) 2222-3333",email_holerites:"rh@techsolutions.com",situacao_cadastral:"ATIVA",atividade_principal:"Desenvolvimento de programas de computador sob encomenda",porte:"DEMAIS",logo_url:"",funcionarios_count:25,ativo:!0},{id:"550e8400-e29b-41d4-a716-446655440002",nome:"Consultoria ABC LTDA",nome_fantasia:"ABC Consultoria",cnpj:"11.222.333/0001-44",inscricao_estadual:"111.222.333.444",logradouro:"Rua Consultoria",numero:"789",bairro:"Savassi",municipio:"Belo Horizonte",uf:"MG",cep:"30112-000",endereco_completo:"Rua Consultoria, 789 - Savassi - Belo Horizonte/MG - CEP: 30112-000",telefone:"(31) 1111-2222",email_holerites:"rh@consultoriaabc.com",situacao_cadastral:"BAIXADA",atividade_principal:"Atividades de consultoria em gestão empresarial",porte:"ME",logo_url:"",funcionarios_count:8,ativo:!1}],i=async()=>{r.value=!0,s.value="";try{const e=await $fetch("/api/empresas");e.success&&e.data&&(o.value=e.data)}catch(e){s.value="Erro ao carregar empresas",console.error("Erro ao carregar empresas:",e),o.value=u}finally{r.value=!1}},m=async e=>{r.value=!0;try{const a=await $fetch("/api/empresas",{method:"POST",body:e});return a.success?(await i(),{success:!0,message:a.message||"Empresa salva com sucesso!"}):{success:!1,message:"Erro ao salvar empresa"}}catch(a){return console.error("Erro ao salvar empresa:",a),{success:!1,message:a.data?.message||"Erro ao salvar empresa"}}finally{r.value=!1}},p=async e=>{try{if((await $fetch(`/api/empresas/${e}`,{method:"DELETE"})).success){const n=o.value.findIndex(E=>E.id===e);return n!==-1&&o.value.splice(n,1),{success:!0,message:"Empresa excluída com sucesso!"}}return{success:!1,message:"Erro ao excluir empresa"}}catch(a){return console.error("Erro ao excluir empresa:",a),{success:!1,message:a.data?.message||"Erro ao excluir empresa"}}},d=e=>o.value.find(a=>a.id===e),v=l(()=>o.value),f=l(()=>o.value.map(e=>({value:e.id,label:e.nome})));return{empresas:t(o),loading:t(r),error:t(s),obterEmpresasAtivas:v,obterOpcoesEmpresas:f,carregarEmpresas:i,salvarEmpresa:m,deletarEmpresa:p,obterEmpresaPorId:d}};export{_ as u};
