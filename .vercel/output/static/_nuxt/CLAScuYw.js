import{r as c,l as g,D as t}from"./BlCT4Jl9.js";const v=()=>{const r=c([]),s=c(!1),o=c(""),l=async()=>{s.value=!0,o.value="";try{const a=await $fetch("/api/cargos");a.success&&a.data?r.value=Array.isArray(a.data)?a.data:[]:r.value=[]}catch(a){o.value="Erro ao carregar cargos",console.error("Erro ao carregar cargos:",a),r.value=[]}finally{s.value=!1}},u=async a=>{s.value=!0;try{const e=await $fetch("/api/cargos",{method:"POST",body:a});return e.success?(await l(),{success:!0,message:e.message||"Cargo salvo com sucesso!"}):{success:!1,message:"Erro ao salvar cargo"}}catch(e){return console.error("Erro ao salvar cargo:",e),{success:!1,message:e.data?.message||"Erro ao salvar cargo"}}finally{s.value=!1}},n=g(()=>Array.isArray(r.value)?r.value.map(a=>({value:a.id.toString(),label:a.nome})):[]);return{cargos:t(r),loading:t(s),error:t(o),opcoesCargos:n,carregarCargos:l,salvarCargo:u}};export{v as u};
